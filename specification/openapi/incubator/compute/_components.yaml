components:
  schemas:
    Container:
      properties:
        image:
          type: string
          minLength: 1
          title: Image
          description: The container image to use (e.g., 'docker.io/library/ubuntu:latest')
        volume_mounts:
          items:
            $ref: '#/components/schemas/VolumeMount'
          type: array
          title: Volume Mounts
          description: List of volume mounts for the container
          default: []
      additionalProperties: true
      type: object
      required:
      - image
      title: Container
      description: 'Represents a container specification for job execution.


        Implementation notes: The value of gpu_cores_per_process in ResourceSpec should
        be used to determine

        if the container should be run with GPU support. Likewise, the value of launcher
        in JobSpec should be used

        to determine if the container should be run with MPI support. The container
        should by default. be run with

        host networking.'
    Job:
      properties:
        id:
          type: string
          title: Id
        status:
          anyOf:
          - $ref: '#/components/schemas/JobStatus'
          - type: 'null'
        job_spec:
          anyOf:
          - $ref: '#/components/schemas/JobSpec-Output'
          - type: 'null'
      additionalProperties: true
      type: object
      required:
      - id
      title: Job
    JobAttributes:
      properties:
        duration:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Duration
          description: Duration in seconds
          examples:
          - 30
          - 60
          - 120
        queue_name:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Queue Name
          description: Name of the queue or partition to submit the job to
        account:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Account
          description: Account or project to charge for resource usage
        reservation_id:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Reservation Id
          description: ID of a reservation to use for the job
        custom_attributes:
          additionalProperties:
            type: string
          type: object
          title: Custom Attributes
          description: Custom scheduler-specific attributes as key-value pairs
          default: {}
      additionalProperties: true
      type: object
      title: JobAttributes
      description: Additional attributes and scheduling parameters for a job.
    JobSpec-Input:
      properties:
        executable:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Executable
          description: Path to the executable to run. If container is specified, this
            will be used as the entrypoint to the container.
        container:
          anyOf:
          - $ref: '#/components/schemas/Container'
          - type: 'null'
          description: Container specification for containerized execution
        arguments:
          items:
            type: string
          type: array
          title: Arguments
          description: Command-line arguments to pass to the executable or container
          default: []
        directory:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Directory
          description: Working directory for the job
        name:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Name
          description: Name of the job
        inherit_environment:
          type: boolean
          title: Inherit Environment
          description: Whether to inherit the environment variables from the submission
            environment
          default: true
        environment:
          additionalProperties:
            type: string
          type: object
          title: Environment
          description: Environment variables to set for the job. If container is specified,
            these will be set inside the container.
          default: {}
        stdin_path:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Stdin Path
          description: Path to file to use as standard input
        stdout_path:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Stdout Path
          description: Path to file to write standard output
        stderr_path:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Stderr Path
          description: Path to file to write standard error
        resources:
          anyOf:
          - $ref: '#/components/schemas/ResourceSpec'
          - type: 'null'
          description: Resource requirements for the job
        attributes:
          anyOf:
          - $ref: '#/components/schemas/JobAttributes'
          - type: 'null'
          description: Additional job attributes such as duration, queue, and account
        pre_launch:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Pre Launch
          description: Script or commands to run before launching the job
        post_launch:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Post Launch
          description: Script or commands to run after the job completes
        launcher:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Launcher
          description: Job launcher to use (e.g., 'mpirun', 'srun')
      additionalProperties: false
      type: object
      title: JobSpec
      description: Specification for job.
    JobSpec-Output:
      properties:
        executable:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Executable
          description: Path to the executable to run. If container is specified, this
            will be used as the entrypoint to the container.
        container:
          anyOf:
          - $ref: '#/components/schemas/Container'
          - type: 'null'
          description: Container specification for containerized execution
        arguments:
          items:
            type: string
          type: array
          title: Arguments
          description: Command-line arguments to pass to the executable or container
          default: []
        directory:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Directory
          description: Working directory for the job
        name:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Name
          description: Name of the job
        inherit_environment:
          type: boolean
          title: Inherit Environment
          description: Whether to inherit the environment variables from the submission
            environment
          default: true
        environment:
          additionalProperties:
            type: string
          type: object
          title: Environment
          description: Environment variables to set for the job. If container is specified,
            these will be set inside the container.
          default: {}
        stdin_path:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Stdin Path
          description: Path to file to use as standard input
        stdout_path:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Stdout Path
          description: Path to file to write standard output
        stderr_path:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Stderr Path
          description: Path to file to write standard error
        resources:
          anyOf:
          - $ref: '#/components/schemas/ResourceSpec'
          - type: 'null'
          description: Resource requirements for the job
        attributes:
          anyOf:
          - $ref: '#/components/schemas/JobAttributes'
          - type: 'null'
          description: Additional job attributes such as duration, queue, and account
        pre_launch:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Pre Launch
          description: Script or commands to run before launching the job
        post_launch:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Post Launch
          description: Script or commands to run after the job completes
        launcher:
          anyOf:
          - type: string
            minLength: 1
          - type: 'null'
          title: Launcher
          description: Job launcher to use (e.g., 'mpirun', 'srun')
      additionalProperties: false
      type: object
      title: JobSpec
      description: Specification for job.
    JobState:
      type: integer
      enum:
      - 0
      - 1
      - 2
      - 3
      - 4
      - 5
      title: JobState
      description: 'from: https://exaworks.org/psij-python/docs/v/0.9.11/_modules/psij/job_state.html#JobState


        An enumeration holding the possible job states.


        The possible states are: `NEW`, `QUEUED`, `ACTIVE`, `COMPLETED`, `FAILED`,
        and `CANCELED`.'
    JobStatus:
      properties:
        state:
          $ref: '#/components/schemas/JobState'
        time:
          anyOf:
          - type: number
          - type: 'null'
          title: Time
        message:
          anyOf:
          - type: string
          - type: 'null'
          title: Message
        exit_code:
          anyOf:
          - type: integer
          - type: 'null'
          title: Exit Code
        meta_data:
          anyOf:
          - additionalProperties: true
            type: object
          - type: 'null'
          title: Meta Data
      additionalProperties: true
      type: object
      required:
      - state
      title: JobStatus
    ResourceSpec:
      properties:
        node_count:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Node Count
          description: Number of compute nodes to allocate
        process_count:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Process Count
          description: Total number of processes to launch
        processes_per_node:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Processes Per Node
          description: Number of processes to launch per node
        cpu_cores_per_process:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Cpu Cores Per Process
          description: Number of CPU cores to allocate per process
        gpu_cores_per_process:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Gpu Cores Per Process
          description: Number of GPU cores to allocate per process
        exclusive_node_use:
          type: boolean
          title: Exclusive Node Use
          description: Whether to request exclusive use of allocated nodes
          default: true
        memory:
          anyOf:
          - type: integer
            minimum: 1.0
          - type: 'null'
          title: Memory
          description: Amount of memory to allocate in bytes
      additionalProperties: true
      type: object
      title: ResourceSpec
      description: Specification of computational resources required for a job.
    VolumeMount:
      properties:
        source:
          type: string
          minLength: 1
          title: Source
          description: The source path on the host system to mount
        target:
          type: string
          minLength: 1
          title: Target
          description: The target path inside the container where the volume will
            be mounted
        read_only:
          type: boolean
          title: Read Only
          description: Whether the mount should be read-only
          default: true
      additionalProperties: true
      type: object
      required:
      - source
      - target
      title: VolumeMount
      description: Represents a volume mount for a container.
